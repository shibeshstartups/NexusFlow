# Server Configuration
PORT=5000
NODE_ENV=development
FRONTEND_URL=http://localhost:5173

# Database Configuration
MONGODB_URI=mongodb://localhost:27017/nexusflow
MONGODB_TEST_URI=mongodb://localhost:27017/nexusflow_test

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here_change_in_production
JWT_REFRESH_SECRET=your_super_secret_refresh_jwt_key_here
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d

# Cloudflare R2 Storage Configuration
CLOUDFLARE_R2_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_R2_ACCESS_KEY_ID=your_r2_access_key_id
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
CLOUDFLARE_R2_BUCKET_NAME=your_bucket_name
CLOUDFLARE_R2_REGION=auto

# Cloudflare CDN Configuration (for bandwidth optimization)
CLOUDFLARE_CDN_ENABLED=true
CLOUDFLARE_ZONE_ID=your_cloudflare_zone_id
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token

# CDN Domain Configuration
# Option 1: Custom domain (recommended for production)
CLOUDFLARE_R2_PUBLIC_DOMAIN=files.yourdomain.com
# Option 2: R2 dev subdomain (auto-generated by Cloudflare)
CLOUDFLARE_R2_DEV_SUBDOMAIN=your_bucket_subdomain

# CDN Cache Optimization (TTL in seconds)
CLOUDFLARE_CDN_CACHE_TTL=86400
# 24 hours for general files
CLOUDFLARE_CDN_IMAGE_CACHE_TTL=604800
# 7 days for images
CLOUDFLARE_CDN_VIDEO_CACHE_TTL=2592000
# 30 days for videos

# CDN Performance Features
CLOUDFLARE_CDN_BROTLI=true
# Enable Brotli compression
CLOUDFLARE_CDN_MINIFY=false
# Minify CSS/JS/HTML (use with caution)
CLOUDFLARE_CDN_POLISH=true
# Image optimization (WebP conversion)
CLOUDFLARE_CDN_HOTLINK_PROTECTION=false
# Prevent hotlinking

# Optional: R2 settings
CLOUDFLARE_R2_MAX_RETRIES=3

# File Upload Configuration
MAX_FILE_SIZE=5368709120
# 5GB in bytes
UPLOAD_PATH=./uploads
TEMP_PATH=./temp

# Email Configuration (for sharing notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# Storage Limits
DEFAULT_STORAGE_QUOTA=107374182400
# 100GB in bytes
DEFAULT_TRANSFER_QUOTA=1073741824000
# 1TB in bytes

# Redis Configuration (for caching and sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis Cluster (for production scaling)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=localhost:7000,localhost:7001,localhost:7002

# Cache TTL Configuration (in seconds)
CACHE_DEFAULT_TTL=300
# 5 minutes default
CACHE_FILES_TTL=600
# 10 minutes for file listings
CACHE_PROJECTS_TTL=900
# 15 minutes for project data
CACHE_ANALYTICS_TTL=1800
# 30 minutes for analytics
CACHE_STATS_TTL=3600
# 1 hour for statistics

# Cache Performance Settings
CACHE_ENABLED=true
CACHE_COMPRESSION=true
CACHE_MAX_MEMORY_POLICY=allkeys-lru

# Security
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW=900000
# 15 minutes
RATE_LIMIT_MAX=100

# File Processing
ENABLE_THUMBNAIL_GENERATION=true
THUMBNAIL_SIZES=150,300,600
VIDEO_THUMBNAIL_TIME=5
# seconds

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log